import{m,h as p,s as g,b as r}from"./moment.1fd2899e.js";import{f as y,K as _,b as v,k as h,q as f,m as k,a as b,s as n,N as x}from"./index.8682a719.js";const C={class:"songList"},F=y({__name:"songList",props:{songlist:{}},setup(l){const o=l,u=({play:e})=>[{title:"#",key:"index",width:50,render(t){return n("span",o.songlist.indexOf(t)+1)}},{title:"\u5C01\u9762",key:"cover",width:80,render(t){return n("img",{src:t.cover+"?param=40y40",class:"songcover"})}},{title:"\u6807\u9898",key:"title"},{title:"\u6B4C\u624B",key:"singer"},{title:"\u4E13\u8F91",key:"album"},{title:"\u65F6\u957F",key:"length",render(t){return n("span",p(t.time).format("mm:ss"))}},{title:"Action",key:"actions",render(t){return n(x,{strong:!0,tertiary:!0,size:"small",onClick:()=>e(t)},{default:()=>"Play"})}}],{songs:a,currentIndex:i}=_(m()),c=u({play:e=>{const t=a.value.findIndex(s=>s.id==e.id);t!=-1?i.value=t:g(e).then(async s=>{const{data:d}=await r(e.id);a.value.push({title:e.title,singer:e.singer,cover:e.cover,src:s.data.data[0].url,time:e.time,album:e.album,id:e.id,mv:e.mv,Lyric:d.lrc.lyric}),i.value=a.value.length-1}),r(e.id).then(s=>{})}});return(e,t)=>{const s=k("n-data-table");return b(),v("div",C,[h(s,{columns:f(c),data:e.songlist,bordered:!1,"max-height":400},null,8,["columns","data"])])}}});export{F as _};
