import{f as i,a as p}from"./moment.cbf9456f.js";import{f as v,r as o,I as f,b as _,F as h,C as g,l as y,J as k,m as x,a as n,g as w,j as B,d as R}from"./index.43cffb43.js";import{_ as b}from"./songList.c958f310.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";const U=["src"],j=v({__name:"searchResult",setup(q){const m=k(),d=o([]),l=o([]),c=o([]);let t=m.query.keywords;f((a,e,s)=>{t=a.query.keywords,u(),s()});const u=()=>{i({keywords:t,offset:0,limit:30,type:"1"}).then(a=>{c.value=a.data.result.songs.map(e=>{const s=e.ar.map(r=>r.name).join(",");return{cover:e.al.picUrl,title:e.name,singer:s,album:e.al.name,time:e.dt,id:e.id,mv:e.mv}})}),p.get("/api/search/multimatch?keywords="+t).then(a=>{d.value=a.data.result.album,l.value=a.data.result.artist})};return u(),(a,e)=>{const s=x("n-card");return n(),_("div",null,[(n(!0),_(h,null,g(l.value,r=>(n(),w(s,null,{cover:B(()=>[R("img",{src:r.img1v1Url},null,8,U)]),_:2},1024))),256)),y(b,{songlist:c.value},null,8,["songlist"])])}}});var E=C(j,[["__scopeId","data-v-525a3268"]]);export{E as default};
