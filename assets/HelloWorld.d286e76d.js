import{c as L,o as k,a as b,b as x,d as w,F as P,p as C,e as S,f as B,g as E}from"./index.7309ae6e.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";var y={exports:{}};(function(M,h){(function(f,v){M.exports=v()})(L,function(){function f(e){var u=[];return e.AMapUI&&u.push(v(e.AMapUI)),e.Loca&&u.push(I(e.Loca)),Promise.all(u)}function v(e){return new Promise(function(u,n){var a=[];if(e.plugins)for(var t=0;t<e.plugins.length;t+=1)o.AMapUI.plugins.indexOf(e.plugins[t])==-1&&a.push(e.plugins[t]);if(p.AMapUI===i.failed)n("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(p.AMapUI===i.notload){p.AMapUI=i.loading,o.AMapUI.version=e.version||o.AMapUI.version,t=o.AMapUI.version;var c=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+t+"/main.js",d.onerror=function(l){p.AMapUI=i.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},d.onload=function(){if(p.AMapUI=i.loaded,a.length)window.AMapUI.loadUI(a,function(){for(var l=0,A=a.length;l<A;l++){var m=a[l].split("/").slice(-1)[0];window.AMapUI[m]=arguments[l]}for(u();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()});else for(u();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},c.appendChild(d)}else p.AMapUI===i.loaded?e.version&&e.version!==o.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):a.length?window.AMapUI.loadUI(a,function(){for(var l=0,A=a.length;l<A;l++){var m=a[l].split("/").slice(-1)[0];window.AMapUI[m]=arguments[l]}u()}):u():e.version&&e.version!==o.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):s.AMapUI.push(function(l){l?n(l):a.length?window.AMapUI.loadUI(a,function(){for(var A=0,m=a.length;A<m;A++){var U=a[A].split("/").slice(-1)[0];window.AMapUI[U]=arguments[A]}u()}):u()})})}function I(e){return new Promise(function(u,n){if(p.Loca===i.failed)n("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(p.Loca===i.notload){p.Loca=i.loading,o.Loca.version=e.version||o.Loca.version;var a=o.Loca.version,t=o.AMap.version.startsWith("2"),c=a.startsWith("2");if(t&&!c||!t&&c)n("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{t=o.key,c=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+a+"&key="+t,d.onerror=function(l){p.Loca=i.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},d.onload=function(){for(p.Loca=i.loaded,u();s.Loca.length;)s.Loca.splice(0,1)[0]()},c.appendChild(d)}}else p.Loca===i.loaded?e.version&&e.version!==o.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):u():e.version&&e.version!==o.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):s.Loca.push(function(l){l?n(l):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var i;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(i||(i={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:i.notload,AMapUI:i.notload,Loca:i.notload},s={AMap:[],AMapUI:[],Loca:[]},r=[],g=function(e){typeof e=="function"&&(p.AMap===i.loaded?e(window.AMap):r.push(e))};return{load:function(e){return new Promise(function(u,n){if(p.AMap==i.failed)n("");else if(p.AMap==i.notload){var a=e.key,t=e.version,c=e.plugins;a?(window.AMap&&location.host!=="lbs.amap.com"&&n("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),o.key=a,o.AMap.version=t||o.AMap.version,o.AMap.plugins=c||o.AMap.plugins,p.AMap=i.loading,t=document.body||document.head,window.___onAPILoaded=function(l){if(delete window.___onAPILoaded,l)p.AMap=i.failed,n(l);else for(p.AMap=i.loaded,f(e).then(function(){u(window.AMap)}).catch(n);r.length;)r.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+a+"&plugin="+o.AMap.plugins.join(","),c.onerror=function(l){p.AMap=i.failed,n(l)},t.appendChild(c)):n("\u8BF7\u586B\u5199key")}else if(p.AMap==i.loaded)if(e.key&&e.key!==o.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==o.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(a=[],e.plugins)for(t=0;t<e.plugins.length;t+=1)o.AMap.plugins.indexOf(e.plugins[t])==-1&&a.push(e.plugins[t]);a.length?window.AMap.plugin(a,function(){f(e).then(function(){u(window.AMap)}).catch(n)}):f(e).then(function(){u(window.AMap)}).catch(n)}else if(e.key&&e.key!==o.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==o.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var d=[];if(e.plugins)for(t=0;t<e.plugins.length;t+=1)o.AMap.plugins.indexOf(e.plugins[t])==-1&&d.push(e.plugins[t]);g(function(){d.length?window.AMap.plugin(d,function(){f(e).then(function(){u(window.AMap)}).catch(n)}):f(e).then(function(){u(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:i.notload,AMapUI:i.notload,Loca:i.notload},s={AMap:[],AMapUI:[],Loca:[]}}}})})(y);var j=y.exports;const _=M=>(C("data-v-5ce6d315"),M=M(),S(),M),J=_(()=>w("div",{id:"amap"},null,-1)),W=_(()=>w("textarea",{name:"",id:"text",cols:"30",rows:"10"},null,-1)),F={__name:"amap",setup(M){k(()=>{window._AMapSecurityConfig={securityJsCode:"649d0df720c956d7cafdc550a59dfbe0"},j.load({key:"9ad9fa28a46a93b65425f18776b16fb9",version:"2.0",plugins:["AMap.ToolBar","AMap.Scale","AMap.OverView","AMap.MapType","AMap.Geocoder","AMap.Autocomplete","AMap.PlaceSearch"],AMapUI:{version:"1.1",plugins:[]}}).then(o=>{console.log(o),window.AMap=o,h()}).catch(o=>{console.log(o)})});function h(){let o=new AMap.Map("amap",{viewMode:"2D",zoom:10,zooms:[2,22],center:[116.397428,39.90923],mapStyle:"amap://styles/darkblue",resizeEnable:!0});window.map=o}const f=[{lng:116.295,lat:40.1036,name:"\u8001\u9AD8"},{lng:116.293,lat:39.826,name:"\u5F20\u7693"},{lng:116.462,lat:40.0457,name:"\u8D75\u65ED"},{lng:116.484,lat:39.9732,name:"\u5218\u8FD0\u5CF0"},{lng:116.594,lat:39.741,name:"\u674E\u5411\u9633"}];function v(){AMap.plugin("AMap.PlaceSearch",function(){var o={city:"\u5317\u4EAC",type:"\u9910\u996E\u670D\u52A1",citylimit:!0,autoFitView:!1,timeout:1e3},p=new AMap.PlaceSearch(o);let s=16e3,r=[];for(let g=0;g<f.length;g++){const e=f[g];let u=new AMap.LngLat(e.lng,e.lat);p.searchNearBy("",u,s,function(n,a){console.log(n);var t=new AMap.Marker({position:u,title:e.name,map});t.setLabel({offset:new AMap.Pixel(10,10),content:e.name,direction:"right"});var c=new AMap.Circle({center:u,radius:s,strokeColor:"#F33",strokeOpacity:.5,strokeWeight:3,fillColor:"#ee2200",fillOpacity:.1});map.add(c),console.log(a),document.getElementById("text").value+=JSON.stringify(a),r.push(a)})}console.log(r)})}function I(){AMap.plugin("AMap.ArrivalRange",function(){var o=new AMap.ArrivalRange,p={policy:"SUBWAY,BUS",resultType:"polygon"};for(let s=0;s<f.length;s++){const r=f[s];o.search([r.lng,r.lat],60,function(g,e){console.log(g,e);let u=[];if(e.bounds){let t="#"+Math.floor(Math.random()*16777215).toString(16);for(var n=0;n<e.bounds.length;n++){var a=new AMap.Polygon({fillColor:t,fillOpacity:"1",strokeColor:t,strokeOpacity:"1",strokeWeight:1});a.setPath(e.bounds[n]),u.push(a)}map.add(u)}},p)}})}function i(){map.plugin("AMap.Geolocation",function(){var o=new AMap.Geolocation({enableHighAccuracy:!0,maximumAge:0,timeout:1e4});o.getCurrentPosition(),AMap.Event.addListener(o,"complete",p),AMap.Event.addListener(o,"error",s);function p(r){console.log(r),map.setCenter([r.position.lng,r.position.lat]),map.setZoom(18),map.add(new AMap.Marker({position:[r.position.lng,r.position.lat]})),f.push({lng:r.position.lng,lat:r.position.lat})}function s(r){console.log(r)}})}return(o,p)=>(b(),x(P,null,[J,w("button",{onClick:v},"\u641C\u7D22"),w("button",{onClick:i},"\u5B9A\u4F4D"),w("button",{onClick:I},"\u5230\u8FBE\u5708"),W],64))}};var G=O(F,[["__scopeId","data-v-5ce6d315"]]);const N=B({__name:"HelloWorld",setup(M){return(h,f)=>(b(),E(G))}});export{N as default};
